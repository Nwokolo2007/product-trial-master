using FV = FluentValidation.Results;
namespace AltenShop.Application.Common.Exceptions
{
	public class ValidationException : Exception
	{
		public IDictionary<string, string[]> Errors { get; }

		public ValidationException(IEnumerable<FV.ValidationFailure> failures) : base("One or more validation failures occurred.")
		{
			Errors = failures
				.GroupBy(e => e.PropertyName, e => e.ErrorMessage)
				.ToDictionary(g => g.Key, g => g.ToArray());
		}
	}
}
